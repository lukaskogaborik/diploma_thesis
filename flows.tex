\chapter{Flows} % chapter* je necislovana kapitola

In this chapter, we aim to introduce all concepts and current knowledge about flows and related graph theory terms. Mainly, we explain Chebyshev nowhere-zero flows, which
have arisen in the Student Science Conference paper of the author \cite{svk}. Moreover, we present a concept of two smaller flows as a sufficient condition for a graph to have
a larger nowhere-zero flow and some Chebyshev flow, also stated in that paper. Then we connect this idea to the theory of group connectivity of a graph established by Jaeger
et al. \cite{group_connectivity} and $k$-closures and $k$-bases introduced by Seymour \cite{seymour} in the paper, where he proved the $6$-flow theorem.

% TODO definition of generalised BlanuÅ¡a snarks

\section{Integral nowhere-zero flows}

In this thesis, we consider only unoriented unweighted simple graphs $\Gamma=(V,E)$. By a \emph{dart} we represent an edge with an additional orientation. This means, for any edge $e=uv\in E$ we have two darts $\vv{uv}$, $\vv{vu}$ belonging to that edge. By a \emph{dart-set} of $S\subseteq V$ we mean the set of darts with initial vertex in the set $S$.

\begin{definition}
    Let $\Gamma=(V, E)$ be a graph and $k\geq 2$ be an integer. A \emph{$k$-flow} on $\Gamma$ is an assignment $\varphi\colon D(V)\to \{-(k-1), -(k-2),\dots, k-2, k-1\}$ of flow values to the darts satisfying
    $\varphi(\vv{uv})=-\varphi(\vv{vu})$ for any dart $\vv{uv}\in D(V)$ and
	\begin{equation}
		\sum_{\vv d\in D(v)} \mkern-10mu\varphi\left(\vv d\right) = 0 \label{eq:conservation}
	\end{equation}
    for each vertex $v$ of $G$. The equality \eqref{eq:conservation} is often referred to as the \textit{flow conservation constraint}. Moreover, a \emph{nowhere-zero $k$-flow} (or NZ $k$-flow) is a $k$-flow such that no flow value is zero, i.e. $\varphi\left(\vv d\right)\neq 0$ for any $\vv d\in D(V)$.
\end{definition}

We also establish a notation $\varphi(e)$ for $e=uv\in E$, where $\varphi(e)=\max\{\varphi(\vv{uv}), \varphi(\vv{vu})\}$.

The flow conservation constraint \eqref{eq:conservation} is generalisable to any subset of vertices. Hence, having a graph $\Gamma$ with a bridge $e$, the interpretation of the flow conservation constraint for one of the components of $\Gamma - e$ results in the following observation.

\begin{claim}
    If $e\in E$ is a bridge in $\Gamma$, then $\varphi(e)=0$. Moreover, $\Gamma$ allows a NZ $k$-flow for no natural $k$.
\end{claim}

Therefore, NZ flows are examined only on bridgeless graphs.

We can clearly see that graph with an NZ $k$-flow also admits an NZ $(k+1)$-flow. That means, graphs with an NZ $2$-flow are somehow the ``simplest'' ones and the existence of NZ flows relates with some complexity of a graph. So we define a flow number, which is a rate of this complexity. 

\begin{definition}
	Let $\Gamma$ be a bridgeless graph. A \emph{flow number of $\Gamma$} is
	\begin{equation*}
		\Phi(\Gamma) := \min\{k\mid\exists\text{NZ } k\text{-flow on }\Gamma\}.\label{eq:flow_number}
	\end{equation*}
\end{definition}

However, it turns out that this rate of complexity achieves only few values.

\begin{theorem}[$6$-flow theorem] \emph{\cite[p. 133]{seymour}}
    There exists an NZ $6$-flow on any bridgeless graph.\label{th:6_flow}
\end{theorem}

Seymour constructed this NZ $6$-flow from two simpler flows from the fact, that if $a\in\{0,\pm 1\}$, $b\in\{0,\pm 1,\pm 2\}$ and not both $a, b$ are zero, then $3a+b\in\{\pm 1, \pm 2, \pm 3, \pm 4, \pm 5\}$.

\begin{lemma} \emph{\cite[p. 132]{seymour}}
    For any bridgeless graph, there exist a $2$-flow $\varphi_2$ and a $3$-flow $\varphi_3$ such that for each edge $e$, at least one value from $\varphi_2(e), \varphi_3(e)$ is non-zero.\label{lem:2_flow_3_flow_seymour}
\end{lemma}

On the other hand, there is no known graph with $\Phi(\Gamma)=6$, all known graphs have $\Phi(\Gamma)\leq 5$. Therefore, the conjecture about the NZ $5$-flow by Tutte still holds unresolved.

\begin{conjecture}[$5$-flow conjecture] \emph{\cite[p. 83]{tutte}}
    There exists an NZ $5$-flow on any bridgeless graph.\label{conj:5_flow}
\end{conjecture}

As for many problems in the graph theory, it is sufficient to explore the problem only on the smaller subset of graphs. There exists a folklore reduction of nowhere-zero flows to $3$-regular (or cubic) graphs.
\begin{proposition}
    There exists an NZ $k$-flow on any bridgeless graph if and only if there exists an NZ $k$-flow on any cubic bridgeless graph.\label{prop:reduction}
\end{proposition}

Hence, by considering only cubic graphs, we still solve the universal problem. Moreover, in terms of finding a counterexample to Tutte's $5$-flow conjecture, we can also avoid $3$-edge-colourable ones and limit research to the cubic graphs, that are not $3$-edge-colourable, as a corollary of the next proposition.

\begin{proposition} \emph{\cite[pp. 160, 161]{diestel}}
    A cubic graph has an NZ $4$-flow if and only if it is $3$-edge-colourable.
\end{proposition}

The class of type II cubic graphs is widely used, so its members have special name.
\begin{definition}
    A \emph{snark} is a bridgeless cubic graph, which has no cycles of lengths $3$ and $4$, is cyclically $4$-edge connected (at least $4$ edges must be removed from the graph to get two components containing a cycle) and is not $3$-edge-colourable.
\end{definition}

\section{Chebyshev flows and sufficient flow-pairs}

% TODO citation of Euclidean flows article
There were some attempts to generalise nowhere-zero flows to real numbers and more dimensions. By generalising integer nowhere-zero flows to real numbers, researchers found out, that restricting only zero flow value is not sufficient, since any flow consisting of non-zero flow values can be made ``smaller'' and then, the notion of flow number disappears. Therefore, we need to determine a larger interval of real values forbidden as flow values, and hence, one-dimensional real nowhere-zero flows are allowed to use flow values from the interval $[1,r-1]$. Then the first attempts of generalisation real flows to more dimensions tried to pick only vectors with the Euclidean norm from the mentioned interval $[1,r-1]$. It worked, but it did not have such nice properties, as we would expect. However, changing a norm turned out to be a good idea \cite{svk}, so we will consider only Chebyshev multidimensional nowhere-zero flows. 

\begin{definition}
    Let $\Gamma=(V, E)$ be a bridgeless graph, $d$ be a positive integer and $r\geq 2$ be a real constant. A \emph{$d$-dimensional Chebyshev nowhere-zero $r$-flow} (or $d$D ChNZ $r$-flow) satisfies the conservation constraint \eqref{eq:conservation} and the condition $1\leq\|\varphi(e)\|_\infty\leq r-1$ for each edge $e\in E$.
\end{definition}

% TODO citation of inf -> min
The flow number can be defined in a similar way to integral nowhere-zero flows. The only problem is, that the set of real numbers does not need to contain a minimal element, so formally correct definition would use infimum instead of minimum. However, the infimum of the flow number candidates is always feasible, so we can define the flow number straightforward with minimum.

\begin{definition}
	Let $\Gamma$ be a bridgeless graph and $d$ be a positive integer. A \emph{$d$-dimensional Chebyshev flow number} of $\Gamma$ is
	\begin{equation*}
		\Phi_d^\infty(\Gamma) := \min\{r\mid\exists d\text{D ChNZ }r\text{-flow on }\Gamma\}.
	\end{equation*}
\end{definition}

Now we recall the Seymour's flows from Lemma \ref{lem:2_flow_3_flow_seymour} -- a $2$-flow and a $3$-flow with a property, that no edge has both flow values equal to zero. By simply using the value of the $2$-flow as the first coordinate and the value of the $3$-flow as the second coordinate, we get a Chebyshev nowhere-zero flow. Moreover, this flow gives us a nice bound on the Chebyshev flow number.

\begin{proposition} \emph{\cite[p. 343]{svk}}
    Each bridgeless graph has a 2D ChNZ $3$-flow and hence, $\Phi_2^\infty(\Gamma)\leq 3$.\label{prop:chebyshev_upper_seymour}
\end{proposition}

Again, no graph with $\Phi_2^\infty(\Gamma)=3$ is known. Futhermore, there is no known graph with $\Phi_2^\infty(\Gamma)>5/2$. Therefore, the next conjecture is interesting to examine.

\begin{conjecture} \emph{\cite[p. 344]{svk}}
    Each bridgeless graph has a 2D ChNZ $5/2$-flow and hence, $\Phi_2^\infty(\Gamma)\leq 5/2$.\label{conj:chebyshev_upper_seymour}
\end{conjecture}

And similarly as for integral flows, the problem can be reduced to cubic graphs and then to snarks, since $3$-edge-colourable cubic graphs have small flow number.

\begin{theorem} \emph{\cite[p. 343]{svk}}
    A cubic graph has a 2D ChNZ $2$-flow if and only if it is $3$-edge-colourable.\label{th:2_chnzf_iff_3_col}
\end{theorem}

As an NZ $6$-flow and a 2D ChNZ $3$-flow can be constructed from two simpler flows, something similar can be made for smaller flow numbers. However, the existence of two simpler flows is only a sufficient condition to the existence of the original flow, the condition is not necessary. Hence we will use a term \emph{$p/q$-sufficient flow-pair} instead of a former \emph{$(p,q)$-circulation decomposition}.

\begin{definition}
        Let $p\leq q$ be the positive integers. A \emph{$p/q$-sufficient flow-pair} of a graph $\Gamma$ is a $2$-flow $\varphi_2$ and a $(p+q+1)$-flow $\varphi_{p+q+1}$ such that whenever $\varphi_2(e)$ is zero, the value $\varphi_{p+q+1}(e)$ is at least $q$.
\end{definition}

\begin{remark}
	The structure in the Lemma \ref{lem:2_flow_3_flow_seymour} is a $1/1$-sufficient flow-pair.
\end{remark}

One possible ambiguity of this definition is, that since $p/q$ is written as a fraction, the $2/6$-sufficient flow-pair can be mixed up with the $1/3$-sufficient flow-pair. However, this is not a bug, this is a feature, since we can WLOG assume $p,q$ relatively prime.

\begin{lemma}
A bridgeless graph $\Gamma$ with a $dp/dq$-sufficient flow-pair also has a $p/q$-sufficient flow-pair and vice versa.
\end{lemma}

We mentioned, that the $p/q$-sufficient flow-pair is a sufficient condition to the existence of some nowhere-zero flows. Those flows are somehow related with the value $p/q$ and that is the reason to write it as a fraction in the definition of the sufficient flow-pair,

\begin{proposition} \emph{\cite[p. 344]{svk}}
    Consider a bridgeless graph $\Gamma$ with a $p/q$-sufficient flow-pair. Then, there are a 2D ChNZ $(2+p/q)$-flow and an NZ $(4+2p/q)$-flow on $\Gamma$.\label{prop:nzf_from_sufficient_flow_pair}
\end{proposition}

Note that if there is a graph, which is a counterexample to Tutte's 5-flow conjecture, it should not have the $1/2$-sufficient flow-pair. Hence it would be interesting to classify graphs with $1/2$-sufficient flow-pair. By a computer, it was checked that this flow-pair exists for snarks up to roughly $30$ vertices, so it looks like the $1/2$-sufficient flow-pair exists always.

\begin{conjecture} \emph{\cite[p. 346]{svk}}
    Each bridgeless graph has a $1/2$-sufficient flow-pair.
\end{conjecture}

% TODO is it necessary?
% \begin{lemma}
%	Let $p<q$ be positive integers. Consider a snark $G$ with a $(p,q)$-circulation decomposition. Then the set of edges $e$ with a property $\varphi_2(e)\neq 0$ is a $2$-factor of $G$.\label{lem:2_circ_snark_2_factor}
%\end{lemma}

\section{Closures and bases}

As mentioned in the previous chapter, we would like to prove the existence of a $1/2$-sufficient flow-pair for some classes of graphs. To achieve this, we need to delve deeper into the Seymour's paper. There he introduced a closure of a subgraph, which add circuits, that are almost completely in it.

\begin{definition} \cite[p. 132]{seymour}
	Let $\Gamma=(V,E)$ be a graph and $S\subseteq E$ its edge subset. A \emph{$k$-closure} $\langle S\rangle_{k}$ of $S$ is a mimimal $T$ such that $S\subseteq T\subseteq E$ and for any circuit $\mathcal C\not\subseteq T$ of $G$, the size of $\mathcal C\cap T^c$ is strictly greater than $k$.
\end{definition}

Moreover, interesting are subgraphs, which are sufficient to generate the original graph using this closure operator.

\begin{definition} \cite[p. 7]{group_connectivity_enumeration}
	Let $\Gamma=(V,E)$ be a graph. Then $B\subseteq E$ is a \emph{$k$-base} of $\Gamma$ if $\langle B\rangle_k = E$.
\end{definition}

Note that if we have a spanning forest $S$ and an edge $e=uv\not\in S$, then there is a $uv$-path $P\subseteq S$ and hence, $P\cup\{e\}$ is a circuit with only one missing edge in $S$. This shows that the classification of $1$-bases is relatively easy. 

\begin{claim}
	Any spanning forest of a graph is its inclusion-minimal $1$-base.
\end{claim}

The reason, why Seymour defined this terminology, is that outside a $k$-base, we can forbid zero flow values.

\begin{theorem} \emph{\cite[p. 132]{seymour}}
	Let $B\subseteq E$ be a $k$-base of $\Gamma=(V,E)$. Then $\Gamma$ has a $(k+1)$-flow, which is non-zero on all edges of $E\setminus B$.\label{th:non_zero_outside_base}
\end{theorem}

Considering $2$-closures, Seymour proved we can find a generalised cycle (i.e. a union of disjoint circuits), which is a $2$-base.

\begin{lemma} \emph{\cite[p. 133]{seymour}}
	For any $3$-connected graph $\Gamma$ there exists its even-factor which is also its $2$-base.\label{lem:cycle_2_base}
\end{lemma}

Now we could explain, how is this Lemma relevant in the finding a $1/1$-sufficient flow-pair. Denote by $\mathcal C$ the generalised cycle of $\Gamma$, which is its $2$-base. From Theorem \ref{th:non_zero_outside_base}, we have a $3$-flow, which is non-zero on $E\setminus\mathcal C$. On the other hand, we can easily construct a $2$-flow, that has flow values equal to $1$ exactly on the edges of $\mathcal C$. Together, these flows form a $1/1$-sufficient flow-pair.

There is also another approach to construct a $1/1$-sufficient flow-pair, which is based on the next lemma. 

\begin{lemma} \emph{\cite[p. 134]{seymour}}
	For any $3$-connected cubic graph $\Gamma=(V,E)$ there exists a vertex partition $E=B_1\cupdot B_2$ such that $B_1,B_2$ are its $1$- and $2$-bases, respectively.
\end{lemma}

Now, by Theorem \label{th:non_zero_outside_base} we have a $2$-flow, which is non-zero on $E\setminus B_1 = B_2$ and a $3$-flow, which is non-zero on $E\setminus B_2=B_1$. Again, this is obviously a $1/1$-sufficient flow-pair on $\Gamma$.

\section{Group connectivity}

In the graph colourings theory, there is a concept called \emph{list colouring} or \emph{choosability}, where each vertex has a list of $k$ permitted colours and we ask, whether we can choose one of them for each vertex such that the colouring is proper, independently on the choice of lists. A similar idea was explored in the field of nowhere-zero flows, known as a \emph{group connectivity}. Although the original definition does not state straightforward analogue to the choosability in nowhere-zero flows, it is proved to be one of its equivalent definitions. So for comfortability, we use that one as a definition.

\begin{definition} \cite[p. 167]{group_connectivity}
	Let $\Gamma$ be a graph and $\mathcal A$ be an Abelian group. We say that $\Gamma$ is \emph{$\mathcal A$-connected}, if for any function of forbidden values $F\colon D(V)\to \mathcal A$ assigning additive inverses to inverse darts, there exists an $\mathcal A$-flow $\varphi$ satisfying $\varphi\left(\vv d\right)\neq F\left(\vv d\right)$ for any dart $\vv d\in D(V)$.
\end{definition}

As an interesting consequence, the Theorem \ref{th:non_zero_outside_base} about the $(k+1)$-flow, which is non-zero out of a $k$-base, can be generalised in the choosability manner.

\begin{theorem} \emph{\cite[p. 168]{group_connectivity}}
	Let $n$ be a positive integer, $B\subset E$ be a $k$-base of $\Gamma=(V,E)$ and $F\colon D(V)\to \mathcal P(\mathcal A)$ be a function of forbidden values assigning sets of additive inverses to inverse darts with a property that $\left|F\left(\vv d\right)\right| < n/k$ for each dart $\vv d\in D(V)$. Then there exists an $n$-flow $\varphi$ satisfying $\varphi\left(\vv d\right)\notin F\left(\vv d\right)$.
\end{theorem}

Note that if we would like to directly derive $1/2$-sufficient flow-pair from this Theorem, we can take a $2$-base of $\Gamma$, which is a cycle (guaranteed by Lemma \ref{lem:cycle_2_base}). Then, this cycle obviously forms a $2$-flow and considering a $4$-flow, we are able to forbid strictly less than $4/2 = 2$ flow values on any edge outside this cycle. Hence this approach is not straightforwardly applicable, since we would need a non-strict inequality instead of the strict one.

% TODO discuss generalisation of the second Seymour's lemma
